<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="transport-datalist.html">

<dom-module id="transport-control-inputs">
	<template>
		<style>
			:host {
				width: 100%;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				align-items: center;
				padding-bottom: 40px;
				background-color: var(--primary-bg-color);
				max-height: var(--panel-inputs-height);
			}

			.icons {
				width: 50px;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				align-items: center;
				padding-top: 20px;
			}

			.input-container {
				width: 310px;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
			}

			.path {
				height: 30px;
				padding: 3px 0px;
			}

			iron-icon, paper-icon-button {
				color: var(--secondary-input-color);
				width: 100%;
			}

			paper-icon-button.search:hover, paper-icon-button.search:focus {
				color: #fff;
			}
		</style>

		<div class="icons">
			<iron-icon icon="maps:directions-transit"></iron-icon>
			<iron-icon class="path" icon="more-vert"></iron-icon>
			<iron-icon icon="maps:place"></iron-icon>
		</div>

		<div class="input-container">
			<transport-datalist
				autofocus="true"
				label="Start"
				station-abbr="{{startVal}}"
				station-name="{{startName}}"
				address="{{startAddress}}"></transport-datalist>
			<transport-datalist
				label="End"
				station-abbr="{{endVal}}"
				station-name="{{endName}}"
				address="{{endAddress}}"></transport-datalist>
		</div>

		<div class="icons">
			<paper-icon-button class="search" icon="search" tab-index="0" on-tap="search"></paper-icon-button>
		</div>
	</template>
	<script>
		
	Polymer({

		is: 'transport-control-inputs',

		properties: {},

		observers: ['_sendInfo(startVal, startName, startAddress, endVal, endName, endAddress)'],

		search: function() {
			this.fire('search', {detail: 'it worked!'});
		},

		_sendInfo: function(startVal, startName, startAddress, endVal, endName, endAddress) {
			this.fire('stations', {
				startVal: startVal,
				endVal: endVal,
				startName: startName,
				endName: endName,
				startAddress: startAddress,
				endAddress: endAddress
			});
		}

	});

	</script>
</dom-module>